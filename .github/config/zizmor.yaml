rules:
  unpinned-uses:
    config:
      policies:
        "*": ref-pin

  # Ignore artipacked (credential persistence) warnings for Claude Code workflows
  # These workflows require credentials to interact with GitHub (post comments, etc.)
  # and do not upload artifacts, so the risk is mitigated
  artipacked:
    ignore:
      - claude-code-review.yml
      - claude.yml

  # Ignore dangerous-triggers warning for labeler workflow
  # This workflow safely uses pull_request_target with all recommended security measures:
  # 1. Branch filter: Only runs for PRs targeting main branch
  # 2. Repository check: Only runs in the main repository (github.repository == 'jawsbaek/helm-charts')
  # 3. Base branch checkout: Only checks out the target branch, not PR code
  # 4. No code execution: Does not execute any untrusted code from the PR
  # 5. Minimal permissions: contents: read, pull-requests: write only
  dangerous-triggers:
    ignore:
      - labeler.yml
